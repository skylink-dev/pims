{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Skyplay ISP Store{% endblock %}</title>
    <link rel="icon" type="image/x-icon" href="{% static 'images/favicon.ico' %}">

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Roboto:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS & Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <script src="{% static 'js/cart.js' %}" defer></script>

    <style>
      body {
        font-family: "Roboto", sans-serif;
        background-color: #f8f8f8;
      }
      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-family: "Playfair Display", serif;
      }
      .product-card:hover {
        transform: translateY(-8px);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      }
      #mobileMenu {
        backdrop-filter: blur(8px);
      }
    </style>

    {% block extra_css %}{% endblock %}
  </head>

  <body class="flex flex-col min-h-screen bg-gray-50">
    <!-- ✅ Navbar -->
    <header class="sticky top-0 bg-white shadow-md z-50">
  <div class="container mx-auto px-6 py-4 flex justify-between items-center">
    <!-- ✅ Logo -->
    <div class="flex items-center space-x-2">
      <img
        src="{% static 'images/logo.png' %}"
        alt="Skyplay ISP Store Logo"
        class="w-10 h-10 object-contain"
      />
      <h1 class="text-2xl md:text-3xl font-bold text-red-800">
        Skyplay Store
      </h1>
    </div>

    <!-- ✅ Desktop Menu -->
    <nav
  id="desktopMenu"
  class="hidden md:flex items-center space-x-8 text-lg font-semibold text-gray-800"
>
  <!-- Home -->
  <a
    href="{% url 'home' %}"
    class="flex items-center space-x-2 group transition"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-6 h-6 text-red-600 group-hover:scale-110 transition-transform"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M3 12l9-9 9 9M4 10v10a1 1 0 001 1h14a1 1 0 001-1V10"
      />
    </svg>
    <span
      class="relative after:absolute after:left-0 after:-bottom-1 after:w-0 after:h-[2px] after:bg-red-600 after:transition-all group-hover:after:w-full"
      >Home</span
    >
  </a>

  <!-- Cart -->
  <a
    href="{% url 'view_cart' %}"
    class="flex items-center space-x-2 group transition"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-6 h-6 text-blue-600 group-hover:scale-110 transition-transform"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.2 6H19M10 21a1 1 0 100-2 1 1 0 000 2zm8 0a1 1 0 100-2 1 1 0 000 2z"
      />
    </svg>
    <span
      class="relative after:absolute after:left-0 after:-bottom-1 after:w-0 after:h-[2px] after:bg-blue-600 after:transition-all group-hover:after:w-full"
      >Cart</span
    >
  </a>

  <!-- Wallet -->
  <a
    href="{% url 'wallet' %}"
    class="flex items-center space-x-2 group transition"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-6 h-6 text-green-600 group-hover:scale-110 transition-transform"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-2m4-5h-4a1 1 0 00-1 1v4a1 1 0 001 1h4v-6z"
      />
    </svg>
    <span
      class="relative after:absolute after:left-0 after:-bottom-1 after:w-0 after:h-[2px] after:bg-green-600 after:transition-all group-hover:after:w-full"
      >Wallet</span
    >
  </a>

  <!-- Orders -->
  <a
    href="{% url 'orders' %}"
    class="flex items-center space-x-2 group transition"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-6 h-6 text-yellow-600 group-hover:scale-110 transition-transform"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M20 13V9a2 2 0 00-2-2h-3V5a2 2 0 00-2-2H8a2 2 0 00-2 2v2H3a2 2 0 00-2 2v4h19zM3 13v6a2 2 0 002 2h14a2 2 0 002-2v-6"
      />
    </svg>
    <span
      class="relative after:absolute after:left-0 after:-bottom-1 after:w-0 after:h-[2px] after:bg-yellow-600 after:transition-all group-hover:after:w-full"
      >Orders</span
    >
  </a>
</nav>

    <!-- ✅ Right Side Buttons -->
    <div class="flex items-center space-x-4">
      <!-- Mobile Menu Button -->
      <button
        id="mobileMenuBtn"
        class="md:hidden text-3xl text-red-600 focus:outline-none"
      >
        <i class="fas fa-bars"></i>
      </button>

      <!-- Logout Button (Desktop only) -->
      <form class="hidden md:block" action="{% url 'logout' %}" method="post">
        {% csrf_token %}
        <button
          type="submit"
          class="flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg shadow hover:bg-red-700 transition"
        >
          <i class="fas fa-sign-out-alt"></i>
          <span>Logout</span>
        </button>
      </form>
    </div>
  </div>
</header>

    <!-- ✅ Mobile Menu -->
    <div
      id="mobileMenu"
      class="fixed inset-0 bg-gray-900 bg-opacity-95 z-50 transform -translate-x-full transition-transform duration-300 ease-in-out md:hidden"
    >
      <div class="flex justify-end p-4">
        <button id="closeMobileMenu" class="text-white text-3xl focus:outline-none">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="flex flex-col items-center mt-10 space-y-6">
        <a href="{% url 'home' %}" class="w-3/4 text-center border border-transparent bg-white/10 backdrop-blur-md hover:bg-gradient-to-r from-red-500/10 to-red-600/10 hover:border-red-500 text-white py-3 rounded-xl shadow-lg text-lg font-semibold transition flex justify-center items-center space-x-2">
  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l9-9 9 9M4 10v10a1 1 0 001 1h14a1 1 0 001-1V10" />
  </svg>
  <span>Home</span>
</a>

<a href="{% url 'view_cart' %}" class="w-3/4 text-center border border-transparent bg-white/10 backdrop-blur-md hover:bg-gradient-to-r from-blue-500/10 to-blue-600/10 hover:border-blue-500 text-white py-3 rounded-xl shadow-lg text-lg font-semibold transition flex justify-center items-center space-x-2">
  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.2 6H19M7 13L5.4 7M10 21a1 1 0 100-2 1 1 0 000 2zm8 0a1 1 0 100-2 1 1 0 000 2z" />
  </svg>
  <span>Cart</span>
</a>

<a href="{% url 'wallet' %}" class="w-3/4 text-center border border-transparent bg-white/10 backdrop-blur-md hover:bg-gradient-to-r from-green-500/10 to-green-600/10 hover:border-green-500 text-white py-3 rounded-xl shadow-lg text-lg font-semibold transition flex justify-center items-center space-x-2">
  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-2m4-5h-4a1 1 0 00-1 1v4a1 1 0 001 1h4v-6z" />
  </svg>
  <span>Wallet</span>
</a>

<a href="{% url 'orders' %}" class="w-3/4 text-center border border-transparent bg-white/10 backdrop-blur-md hover:bg-gradient-to-r from-yellow-500/10 to-yellow-600/10 hover:border-yellow-500 text-white py-3 rounded-xl shadow-lg text-lg font-semibold transition flex justify-center items-center space-x-2">
  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V9a2 2 0 00-2-2h-3V5a2 2 0 00-2-2H8a2 2 0 00-2 2v2H3a2 2 0 00-2 2v4h19zM3 13v6a2 2 0 002 2h14a2 2 0 002-2v-6" />
  </svg>
  <span>Orders</span>
</a>


        <!-- ✅ Mobile Logout Button -->
        <form
          action="{% url 'logout' %}"
          method="post"
          class="w-3/4 text-center"
        >
          {% csrf_token %}
          <button
            type="submit"
            class="w-full mt-6 bg-red-600 text-white text-lg font-semibold py-3 rounded-lg shadow-md hover:bg-red-700 transition flex items-center justify-center space-x-2"
          >
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
          </button>
        </form>
      </div>
    </div>

    <!-- ✅ Main Content -->
    <main class="flex-grow">{% block content %}{% endblock %}</main>

    <!-- ✅ Footer -->
   <footer class="bg-gray-900 text-white py-8">
  <div class="container mx-auto px-2 text-center">
    <p class="text-lg">
      &copy; {{ now|date:"Y" }} Skyplay Store. All rights reserved.
    </p>
  </div>
</footer>

    <script>
      const mobileMenuBtn = document.getElementById("mobileMenuBtn");
      const closeMobileMenu = document.getElementById("closeMobileMenu");
      const mobileMenu = document.getElementById("mobileMenu");

      function openMenu() {
          console.log("ON Lcick open menu");
        mobileMenu.classList.remove("-translate-x-full");
        mobileMenu.classList.add("translate-x-0");
        document.body.style.overflow = "hidden"; // disable scroll
      }

      function closeMenu() {
        mobileMenu.classList.add("-translate-x-full");
        mobileMenu.classList.remove("translate-x-0");
        document.body.style.overflow = ""; // enable scroll
      }

      mobileMenuBtn.addEventListener("click", openMenu);
      closeMobileMenu.addEventListener("click", closeMenu);
    </script>
     {% block extra_js %}
    {% endblock %}
  </body>
</html>
